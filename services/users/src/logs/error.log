2025-11-01T18:16:05.653Z [error]: ValidationError: User validation failed: username: Invalid username format
    at Document.invalidate (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\mongoose\lib\schemaType.js:1420:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-01T19:29:53.976Z [error]: Error: data and hash arguments required
    at Object.compare (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\bcrypt\bcrypt.js:204:17)
    at C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\bcrypt\promises.js:26:12
    at new Promise (<anonymous>)
    at Object.promise (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\bcrypt\promises.js:17:12)
    at Object.compare (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\bcrypt\bcrypt.js:200:25)
    at Object.validatePassword (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/services/userService.js:79:23)
    at login (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:79:49)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-11-01T19:45:47.985Z [error]: TypeError: Session.findActiveSession is not a function
    at refreshToken (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:111:39)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-11-01T19:48:50.200Z [error]: TypeError: session.refreshSession is not a function
    at refreshToken (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:120:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-11-01T20:28:13.643Z [error]: TypeError: Cannot read properties of undefined (reading '_id')
    at logout (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:226:46)
    at Layer.handle [as handle_request] (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:175:3)
    at router (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:47:12)
2025-11-01T20:30:44.550Z [error]: TypeError: Session.revokeSession is not a function
    at logout (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:226:23)
    at Layer.handle [as handle_request] (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\route.js:149:13)
    at authMiddleware (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/middlewares/authMiddleware.js:23:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-11-01T20:34:23.485Z [error]: TypeError: Cannot read properties of undefined (reading '_id')
    at logout (file:///C:/Users/ss/Desktop/stock-management-microservices/services/users/src/controllers/userController.js:226:33)
    at Layer.handle [as handle_request] (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:175:3)
    at router (C:\Users\ss\Desktop\stock-management-microservices\services\users\node_modules\express\lib\router\index.js:47:12)
